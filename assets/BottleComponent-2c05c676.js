import{d as j,w as q,x as r,c as v,a,y as P,g as S,o as k,j as e,z as E,P as w,C as _,n as p,D as M,u as T}from"./index-620def67.js";import{W as D,a as l,L as m,S as A}from"./AuthForm.styled-b657b931.js";const L=({signUp:s})=>{const t=j(),u=q(),o=r.useMediaQuery({query:"(min-width: 768px)"}),i=r.useMediaQuery({query:"(min-width: 1439px)"}),x=v().shape({email:a().email("Please write valid email").required("Email is required"),password:a().min(8,"Password must be at least 8 characters").max(64).required("Password is required"),repeat_password:s?a().oneOf([P("password"),null],"Passwords don't match, please try again.").min(8,"Password must be at least 8 characters").required("Confirm password is required"):a()}).required(),b=({email:g,password:f})=>{const h={email:g,password:f};s?t(_(h)).unwrap().then(()=>{u("/signin"),p.Notify.success("A message with a confirmation link has been sent to your email address. Please folow the link to activate your account.",{timeout:5e3,width:"460px",height:"200px",messageMaxLength:500,fontSize:"14px",position:"center-top"})}).catch(c=>{p.Notify.warning(c)}):t(M(h)).unwrap().then(()=>{u("/home")}).catch(c=>{p.Notify.warning(c)})},{register:n,handleSubmit:y,formState:{errors:d}}=S({mode:s?"onChange":"onSubmit",resolver:k(x)});return e.jsx(D,{children:e.jsxs("form",{onSubmit:y(b),children:[e.jsxs(l,{children:[e.jsx(m,{children:"Enter your email"}),e.jsx(E,{register:n,error:d.email,id:"email",width:i?384:o?336:280,type:"email",placeholder:"E-mail"})]}),e.jsxs(l,{children:[e.jsx(m,{children:"Enter your password"}),e.jsx(w,{error:d.password,register:n,id:"password",width:i?384:o?336:280,type:"password",placeholder:"Password"})]}),s&&e.jsxs(l,{children:[e.jsx(m,{children:"Repeat password"}),e.jsx(w,{error:d.repeat_password,register:n,id:"repeat_password",width:i?384:o?336:280,type:"repeat_password",placeholder:"Password"})]}),e.jsx(A,{type:"submit",children:s?"Sign Up":"Sign In"})]})})},B=T.div`
margin-bottom: 20px;
  img {
    @media only screen and (min-width: 768px) {
      margin-top: 35px;
      margin-left: -250px;
    }
    @media only screen and (min-width: 1440px) {
    }
  }
`,C="/capybara-components-frontend/assets/bottle-sign-in-e09a1acd.svg",I="/capybara-components-frontend/assets/bottle-sing-in-fc1ebbfd.svg",N="/capybara-components-frontend/assets/bottle-for-signin-6fb65f6e.svg",R=()=>{const s=r.useMediaQuery({query:"(min-width: 768px)"}),t=r.useMediaQuery({query:"(min-width: 1439px)"});return e.jsx(B,{children:e.jsx("img",{src:t?N:s?I:C,alt:"bottle-sign-in"})})};export{L as A,R as B};
