import{k as q,V as v,a as P,X as i,c as k,i as r,Y as S,g as _,o as T,j as e,Z as M,_ as x,$ as E,n as l,a0 as A,u as B}from"./index-9cfe9bfc.js";import{W as D,a as m,L as u,S as N}from"./AuthForm.styled-337ae7c4.js";const W=({signUp:t})=>{const a=q(),h=v(),{t:s}=P(),o=i.useMediaQuery({query:"(min-width: 768px)"}),n=i.useMediaQuery({query:"(min-width: 1439px)"}),b=k().shape({email:r().email("Please write valid email").required("Email is required"),password:r().min(8,"Password must be at least 8 characters").max(64).required("Password is required"),repeat_password:t?r().oneOf([S("password"),null],"Passwords don't match, please try again.").min(8,"Password must be at least 8 characters").required("Confirm password is required"):r()}).required(),g=({email:f,password:j})=>{const w={email:f,password:j};t?a(E(w)).unwrap().then(()=>{h("/signin"),l.Notify.success("A message with a confirmation link has been sent to your email address. Please folow the link to activate your account.",{timeout:5e3,width:"460px",height:"200px",messageMaxLength:500,fontSize:"14px",position:"center-top"})}).catch(p=>{l.Notify.warning(p)}):a(A(w)).unwrap().then(()=>{h("/home")}).catch(p=>{l.Notify.warning(p)})},{register:d,handleSubmit:y,formState:{errors:c}}=_({mode:t?"onChange":"onSubmit",resolver:T(b)});return e.jsx(D,{children:e.jsxs("form",{onSubmit:y(g),children:[e.jsxs(m,{children:[e.jsx(u,{children:s("enterEmail")}),e.jsx(M,{register:d,error:c.email,id:"email",width:n?384:o?336:280,type:"email",placeholder:s("email")})]}),e.jsxs(m,{children:[e.jsx(u,{children:s("enterPassword")}),e.jsx(x,{error:c.password,register:d,id:"password",width:n?384:o?336:280,type:"password",placeholder:s("password")})]}),t&&e.jsxs(m,{children:[e.jsx(u,{children:s("repeatPassword")}),e.jsx(x,{error:c.repeat_password,register:d,id:"repeat_password",width:n?384:o?336:280,type:"repeat_password",placeholder:s("password")})]}),e.jsx(N,{type:"submit",children:s(t?"signup":"signin")})]})})},Q=B.div`
margin-bottom: 20px;
  img {
    @media only screen and (min-width: 768px) {
      margin-top: 35px;
      margin-left: -250px;
    }
    @media only screen and (min-width: 1440px) {
    }
  }
`,$="/capybara-components-frontend/assets/bottle-sign-in-e09a1acd.svg",C="/capybara-components-frontend/assets/bottle-sing-in-fc1ebbfd.svg",F="/capybara-components-frontend/assets/bottle-for-signin-6fb65f6e.svg",R=()=>{const t=i.useMediaQuery({query:"(min-width: 768px)"}),a=i.useMediaQuery({query:"(min-width: 1439px)"});return e.jsx(Q,{children:e.jsx("img",{src:a?F:t?C:$,alt:"bottle-sign-in"})})};export{W as A,R as B};
